# 二叉树

## 二叉树的特点

1. 每个节点的度最大为2，最多拥有2棵子树
2. 左子树和右子树是有顺序的
3. 即使某节点只有一棵子树，也要区分左右子树

## 二叉树的性质

1. 非空二叉树中，第 i 层最多有 2<sup>i-1</sup>个节点（i >= 1)。

2. 如果二叉树的深度（高度）为 h，那么此二叉树最多有 2<sup>h</sup> - 1 个节点。( h>=1 )

3. 二叉树中，终端节点数（叶子节点数）为 n<sub>0</sub>，度为 2 的节点数为 n<sub>2</sub>，则 n<sub>0</sub>=n<sub>2</sub>+1。

   >性质3的证明:
   >
   >总节点数n = n0 + n1 + n2
   >
   >总边数 T = n1 + 2 * n2 = n - 1
   >
   >则T = n1 + 2 * n2 = n0 + n1 + n2 - 1 ---> n0 = n2 + 1

## 真二叉树

所有节点的度要么是0，要么是2

## 满二叉树

* 所有节点的度要么是0，要么是2。且所有的叶子节点都在最后一层。
* 在同样高度的二叉树中，满二叉树叶子节点数量最多，总节点数最多。
* 满二叉树一定是真二叉树，真二叉树不一定是满二叉树。
* 假设满二叉树的高度为h（h>=1），那么第 i 层的节点数量为2<sup>i-1</sup>，叶子节点数量2<sup>h-1</sup> ，总节点数量n = 2<sup>h</sup> - 1 ，高度 h = log<sub>2</sub>(n+1)

## 完全二叉树

* 叶子节点只会出现在最后2层，且最后一层的叶子节点都靠左对齐
* 完全二叉树从根节点到倒数第2层是一棵满二叉树
* 满二叉树一定是完全二叉树，完全二叉树不一定是满二叉树

### 完全二叉树的性质

设完全二叉树高度为h，总节点数量为n，叶子节点数量为n<sub>0</sub>

* 度为1的节点只有左子树
* 度为1的节点要么只有1个，要么没有
* 同样节点数量的二叉树，完全二叉树的高度最小
* 至少有2<sup>h-1</sup>个节点；最多有2<sup>h</sup> - 1个节点，也就是满二叉树的情况；
* 2<sup>h-1</sup> <= n < 2<sup>h</sup>  --->  h -1 <= log<sub>2</sub>n < h  ---> h = floor(log<sub>2</sub>n) + 1
* 将完全二叉树的节点从上到下，从左到右，从1开始进行编号。对任意第i个节点有如下性质
  * 如果 i = 1，它是根节点
  * 如果 i > 1，它的父节点编号为 floor( i / 2)
  * 如果2i <= n，它的左子节点编号为 2i
  * 如果2i > n，它没有左子节点
  * 如果2i + 1 <= n，它的右子节点编号为2i + 1
  *  如果2i + 1 < n，它没有右子节点
* n<sub>0</sub> = floor( (n + 1) / 2 ) = ceiling( n / 2 )
* 非叶子节点数量 n1 + n2 = floor( n / 2 ) = ceiling( (n - 1) / 2 )

## 二叉树的遍历

```
BST
|           ┌── 12
|       ┌── 11
|   ┌── 9
|   |   └── 8
└── 7
    |   ┌── 5
    └── 4
        |   ┌── 3
        └── 2
            └── 1

前序遍历: 7_4_2_1_3_5_9_8_11_
中序遍历: 1_2_3_4_5_7_8_9_11_
后序遍历: 1_3_2_5_4_8_12_11_
层序遍历: 7_4_9_2_5_8_11_
```



### 前序遍历（Preorder Traversal）

前序遍历的访问顺序：先访问根节点，然后前序遍历左子树、最后前序遍历右子树

### 中序遍历（Inorder Traversal）

中序遍历的访问顺序：先中序遍历左子树，然后访问根节点，最后中序遍历右子树

二叉搜索树的中序遍历结果是升序或者降序的

### 后序遍历（Postorder Traversal）

后序遍历的访问顺序：先后序遍历左子树，再后序遍历右子树，最后访问根节点

### 层序遍历（Level Order Traversal）

层序遍历的访问顺序：从上到下，从左到右依次访问每一个节点

实现思路：使用队列

1. 将根节点入队
2. 循环执行以下操作，直到队列为空
   1) 将队头节点A出队，进行访问
   2) 将A的左子节点入队
   3) 将A的右子节点入队

## 练习

* 计算二叉树的高度
* 判断一棵树是否为完全二叉树
