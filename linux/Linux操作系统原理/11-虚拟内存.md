## 核心概念

| 概念          | 解释                                                         |
| ------------- | ------------------------------------------------------------ |
| CacheLine     | 计算机将数据从主存读入Cache时，是把要读取数据附近的一部分数据都读取进来。这样一次读取的一组数据就叫做CacheLine，每一级缓存中都能放很多的CacheLine |
| 局部性原理    |                                                              |
| Write through | 修改缓存数据的同时修改内存数据                               |
| Write Back    | 只修改缓存数据，直到该数据要被清除出缓存再修改内存中的数据   |
| 部分装入      | 进程运行时仅加载部分进入内存，而不必全部装入，其余部分暂时放在swap space |
| 部分对换      | 可以将进程部分对换出内存，用以腾出内存空间，对换出的部分暂时放在swap space |
| swap space    |                                                              |

## 缓存Cache

![image-20230110233903936](images/image-20230110233903936.png)

## 局部性原理

- 时间局部性(Temporal locality)
  - 如果某个信息这次被访问，那它有可能在不久的未来被多次访问。
- 空间局部性(Spatial locality) 
  - 如果某个位置的信息被访问，那和它相邻的信息也很有可能被访问到。 
- 内存局部性(Memory locality)
  - 访问内存时，大概率会访问连续的块，而不是单一的内存地址，其实就是空间局部性在内存上的体现。
- 分支局部性(Branch locality)
  - 计算机中大部分指令是顺序执行，顺序执行和非顺序执行的比例大致是5:1。 
- 等距局部性(Equidistant locality) 
  - 等距局部性是指如果某个位置被访问，那和它相邻等距离的连续地址极有可能会被访问到。

## 修改缓存数据

- Write through
- Write Back

## 缓存数据的淘汰

缓存的容量很小，当缓存满的时候，就需要将缓存中的部分数据淘汰，装入新的数据。

## 虚拟内存

- 部分装入
- 进程可以比物理内存大的多
- 虚拟内存将内存抽象为一个极大的，统一的字节

## swap space

![image-20230110234901422](images/image-20230110234901422-3365742.png)